spring.application.name=Backend-Rux

# ==========================================
# CONEXIÓN A SUPABASE (TRANSACTION POOLER)
# ==========================================
# Transaction Pooler: Ideal para aplicaciones serverless y mejor rendimiento
# Host: aws-0-us-west-2.pooler.supabase.com
# Puerto: 6543 (Transaction Mode - IPv4 compatible)
spring.datasource.url=jdbc:postgresql://aws-0-us-west-2.pooler.supabase.com:6543/postgres

spring.datasource.username=postgres.fpgfqimjisbjzqggchmz
spring.datasource.password=ADBBDASCH2025
spring.datasource.driver-class-name=org.postgresql.Driver

# ==========================================
# CONFIGURACIÓN HIKARI PARA TRANSACTION POOLER
# ==========================================
# CRÍTICO: El Transaction Pooler NO soporta prepared statements
# Sin esto, obtendrás error "S_1 statement not found"
spring.datasource.hikari.data-source-properties.prepareThreshold=0

# Configuración adicional de pool para mejor rendimiento
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# ==========================================
# JPA / HIBERNATE
# ==========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# JSONB & PostGIS
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# ==========================================
# SERVIDOR
# ==========================================
server.port=8090